{"ast":null,"code":"import Axios from \"axios\";\n/*\nCode for this got from StackOverflow\nhttps://stackoverflow.com/a/15455623\n*/\n\nexport default function CreateCookie(email, days) {\n  // Generate random number to serve as key\n  const randomNumber = Math.random(99, 999999); // Number to hexadecimal\n\n  const token = randomNumber.toString(16); // Encrypt token\n\n  const key = crypto.subtle.digest('SHA-1', token, randomNumber); // Set cookie lifetime to 7 days\n\n  const timeNow = Date.now() + days * 24 * 60 * 60 * 1000;\n  Axios({\n    method: \"post\",\n    url: \"http://www.paste.services/access/rememberMe\",\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8'\n    },\n    data: {\n      \"email\": email,\n      \"token\": token,\n      \"token_salt\": randomNumber,\n      \"time\": timeNow\n    }\n  }).then(res => {\n    // Successfully logged in\n    if (res.data === \"1\") {\n      return {\n        \"success\": \"1\",\n        \"token\": token,\n        \"token_salt\": randomNumber,\n        \"time\": timeNow\n      };\n    }\n\n    console.log(\"Response: \" + res.data);\n  });\n}\n_c = CreateCookie;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateCookie\");","map":{"version":3,"sources":["/home/ubuntu/dev/src/pages/access/storeCookieDb.js"],"names":["Axios","CreateCookie","email","days","randomNumber","Math","random","token","toString","key","crypto","subtle","digest","timeNow","Date","now","method","url","headers","data","then","res","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA;AACA;AACA;AACA;;AAEA,eAAe,SAASC,YAAT,CAAuBC,KAAvB,EAA8BC,IAA9B,EAAqC;AAEhD;AACA,QAAMC,YAAY,GAAGC,IAAI,CAACC,MAAL,CAAa,EAAb,EAAiB,MAAjB,CAArB,CAHgD,CAKhD;;AACA,QAAMC,KAAK,GAAGH,YAAY,CAACI,QAAb,CAAuB,EAAvB,CAAd,CANgD,CAQhD;;AACA,QAAMC,GAAG,GAAGC,MAAM,CAACC,MAAP,CAAcC,MAAd,CAAsB,OAAtB,EAA+BL,KAA/B,EAAsCH,YAAtC,CAAZ,CATgD,CAWhD;;AACA,QAAMS,OAAO,GAAGC,IAAI,CAACC,GAAL,KAAeZ,IAAI,GAAG,EAAP,GAAY,EAAZ,GAAiB,EAAjB,GAAsB,IAArD;AAEAH,EAAAA,KAAK,CAAE;AACHgB,IAAAA,MAAM,EAAE,MADL;AAEHC,IAAAA,GAAG,EAAE,6CAFF;AAGHC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX,KAHN;AAMHC,IAAAA,IAAI,EAAE;AACF,eAASjB,KADP;AAEF,eAASK,KAFP;AAGF,oBAAcH,YAHZ;AAIF,cAAQS;AAJN;AANH,GAAF,CAAL,CAYIO,IAZJ,CAYYC,GAAF,IAAW;AAEjB;AACA,QAAKA,GAAG,CAACF,IAAJ,KAAa,GAAlB,EAAwB;AACpB,aAAO;AACH,mBAAW,GADR;AAEH,iBAASZ,KAFN;AAGH,sBAAcH,YAHX;AAIH,gBAAQS;AAJL,OAAP;AAMH;;AACDS,IAAAA,OAAO,CAACC,GAAR,CAAa,eAAeF,GAAG,CAACF,IAAhC;AACH,GAxBD;AAyBH;KAvCuBlB,Y","sourcesContent":["import Axios from \"axios\"\n\n/*\nCode for this got from StackOverflow\nhttps://stackoverflow.com/a/15455623\n*/\n\nexport default function CreateCookie( email, days ) {\n\n    // Generate random number to serve as key\n    const randomNumber = Math.random( 99, 999999 )\n\n    // Number to hexadecimal\n    const token = randomNumber.toString( 16 )\n\n    // Encrypt token\n    const key = crypto.subtle.digest( 'SHA-1', token, randomNumber )\n\n    // Set cookie lifetime to 7 days\n    const timeNow = Date.now() + ( days * 24 * 60 * 60 * 1000 )\n\n    Axios( {\n        method: \"post\",\n        url: \"http://www.paste.services/access/rememberMe\",\n        headers: {\n            'Content-Type': 'application/json; charset=UTF-8'\n        },\n        data: {\n            \"email\": email,\n            \"token\": token,\n            \"token_salt\": randomNumber,\n            \"time\": timeNow\n        },\n    } ).then( ( res ) => {\n\n        // Successfully logged in\n        if ( res.data === \"1\" ) {\n            return {\n                \"success\": \"1\",\n                \"token\": token,\n                \"token_salt\": randomNumber,\n                \"time\": timeNow\n            }\n        }\n        console.log( \"Response: \" + res.data )\n    } )\n}"]},"metadata":{},"sourceType":"module"}